{
    "sourceFile": "app/views/product/list.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1747043600331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747043761218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Danh sách sản phẩm</title>\r\n-    <!-- Thêm Bootstrap 5 CDN -->\r\n     <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-KyZXEJx3X02D6I0e7a2l+xo7x59DkV4vA4unP6hzyhtV/h6K6kZTlcH42Pxw3M8Y\" crossorigin=\"anonymous\">\r\n     <style>\r\n         /* Phong cách vẽ tay (doodle) */\r\n         body {\r\n@@ -84,9 +83,8 @@\n             background-color: #f7f7f7;\r\n             position: relative;\r\n             z-index: 2;\r\n             min-height: 80px;\r\n-            /* Đủ không gian cho nút ở dưới */\r\n         }\r\n \r\n         li h2 {\r\n             font-size: 1.5rem;\r\n@@ -174,9 +172,8 @@\n             height: var(--height);\r\n             background: var(--button-color);\r\n             position: absolute;\r\n             bottom: 10px;\r\n-            /* Đặt ở góc dưới */\r\n             right: 10px;\r\n             text-align: center;\r\n             border-radius: 4px;\r\n             border: 2px solid #333;\r\n@@ -192,11 +189,9 @@\n         .cart-button::before {\r\n             position: absolute;\r\n             content: attr(data-tooltip);\r\n             width: auto;\r\n-            /* Tự động theo nội dung */\r\n             min-width: 80px;\r\n-            /* Đảm bảo đủ rộng */\r\n             height: var(--tooltip-height);\r\n             background-color: #333;\r\n             font-size: 0.8rem;\r\n             color: #fff;\r\n@@ -204,11 +199,9 @@\n             line-height: var(--tooltip-height);\r\n             bottom: calc(var(--height) + var(--gap-between-tooltip-to-button) + 10px);\r\n             left: 50%;\r\n             transform: translateX(-50%);\r\n-            /* Căn giữa */\r\n             padding: 0 8px;\r\n-            /* Khoảng cách văn bản */\r\n         }\r\n \r\n         .cart-button::after {\r\n             position: absolute;\r\n@@ -218,9 +211,8 @@\n             border: 6px solid transparent;\r\n             border-top-color: #333;\r\n             left: 50%;\r\n             transform: translateX(-50%);\r\n-            /* Căn giữa */\r\n             bottom: calc(100% + var(--gap-between-tooltip-to-button) - 10px);\r\n         }\r\n \r\n         .cart-button::after,\r\n@@ -300,9 +292,8 @@\n     <div class=\"container\">\r\n         <div class=\"list-container\">\r\n             <h1>Danh sách sản phẩm</h1>\r\n \r\n-            <!-- Nút \"Thêm sản phẩm mới\" -->\r\n             <a href=\"/Bai1/Product/add\" class=\"add-product-button\">Thêm sản phẩm mới</a>\r\n \r\n             <ul>\r\n                 <?php foreach ($products as $product): ?>\r\n@@ -326,20 +317,18 @@\n                 <?php endforeach; ?>\r\n             </ul>\r\n         </div>\r\n \r\n-        <!-- Hình ảnh doodle minh họa (để nguyên comment) -->\r\n         <!-- <img src=\"https://via.placeholder.com/100x100.png?text=Doodle\" alt=\"Doodle\" class=\"doodle-img\"> -->\r\n         <!-- <img src=\"https://via.placeholder.com/100x100.png?text=Doodle\" alt=\"Doodle\" class=\"doodle-img-2\"> -->\r\n     </div>\r\n \r\n-    <!-- Thêm Bootstrap và jQuery -->\r\n     <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js\" integrity=\"sha384-oBqDVmMz4fnFO9gyb6d5U07P7JvScc7v4hkw3H7O9nUksdX5txd6lghY9f8P64xX5\" crossorigin=\"anonymous\"></script>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js\" integrity=\"sha384-pzjw8f+ua7Kw1TIq0bQWvByWB6rfp9zLxS+JtrfCJJlvH9zxusXTEmtWyY8VV1QU\" crossorigin=\"anonymous\"></script>\r\n \r\n     <script>\r\n         function addToCart(productId) {\r\n-            // Hàm mẫu để mô phỏng thêm sản phẩm vào giỏ hàng\r\n+\r\n             alert('Đã thêm sản phẩm có ID ' + productId + ' vào giỏ hàng!');\r\n             // TODO: Thêm logic thực tế để gửi yêu cầu tới server hoặc cập nhật giỏ hàng\r\n         }\r\n     </script>\r\n"
                },
                {
                    "date": 1747044125204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -302,9 +302,9 @@\n                         <p>Mô tả: <?php echo htmlspecialchars($product->getDescription(), ENT_QUOTES, 'UTF-8'); ?></p>\r\n                         <p>Giá: <?php echo htmlspecialchars($product->getPrice(), ENT_QUOTES, 'UTF-8'); ?></p>\r\n                         <a href=\"/Bai1/Product/edit/<?php echo $product->getId(); ?>\">Sửa</a>\r\n                         <a href=\"/Bai1/Product/delete/<?php echo $product->getId(); ?>\" onclick=\"return confirm('Bạn có chắc chắn muốn xóa sản phẩm này không?');\">Xóa</a>\r\n-                        <div class=\"cart-button\" data-tooltip=\"Giá: <?php echo htmlspecialchars($product->getPrice(), ENT_QUOTES, 'UTF-8'); ?> VNĐ\" onclick=\"addToCart(<?php echo $product->getId(); ?>)\">\r\n+                        <div class=\"cart-button\" data-tooltip=\"Giá: <?php echo htmlspecialchars($product->getPrice(), ENT_QUOTES, 'UTF-8'); ?> $\" onclick=\"addToCart(<?php echo $product->getId(); ?>)\">\r\n                             <div class=\"button-wrapper\">\r\n                                 <div class=\"text\">Thêm vào giỏ</div>\r\n                                 <span class=\"icon\">\r\n                                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cart2\" viewBox=\"0 0 16 16\">\r\n"
                }
            ],
            "date": 1747043600330,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Danh sách sản phẩm</title>\r\n    <!-- Thêm Bootstrap 5 CDN -->\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-KyZXEJx3X02D6I0e7a2l+xo7x59DkV4vA4unP6hzyhtV/h6K6kZTlcH42Pxw3M8Y\" crossorigin=\"anonymous\">\r\n    <style>\r\n        /* Phong cách vẽ tay (doodle) */\r\n        body {\r\n            background-color: #f7f7f7;\r\n            background-image: url('data:image/svg+xml;utf8,<svg width=\"100\" height=\"50\" viewBox=\"0 0 100 50\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 30 C20 10, 40 40, 60 20 S80 40, 100 30\" stroke=\"%23333\" stroke-width=\"2\" fill=\"none\" /><path d=\"M0 40 C15 20, 35 50, 55 30 S75 50, 100 40\" stroke=\"%23333\" stroke-width=\"2\" fill=\"none\" /></svg>');\r\n            background-repeat: repeat;\r\n            background-size: 100px 50px;\r\n            color: #333;\r\n            font-family: 'Comic Sans MS', sans-serif;\r\n            padding: 2rem;\r\n            position: relative;\r\n        }\r\n\r\n        h1 {\r\n            font-size: 2rem;\r\n            margin-bottom: 1.5rem;\r\n            font-weight: bold;\r\n            color: #333;\r\n            text-align: center;\r\n            position: relative;\r\n            z-index: 2;\r\n        }\r\n\r\n        .list-container {\r\n            max-width: 800px;\r\n            margin: auto;\r\n            padding: 2rem;\r\n            border: 2px solid #333;\r\n            background-color: rgba(255, 255, 255, 0.9);\r\n            border-radius: 12px;\r\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n            position: relative;\r\n            overflow: visible;\r\n        }\r\n\r\n        .list-container::before {\r\n            content: '';\r\n            position: absolute;\r\n            top: -10px;\r\n            left: -10px;\r\n            right: -10px;\r\n            bottom: -10px;\r\n            border: 2px dashed #333;\r\n            border-radius: 12px;\r\n            z-index: 1;\r\n            animation: doodle 5s infinite linear;\r\n        }\r\n\r\n        @keyframes doodle {\r\n            0% {\r\n                transform: rotate(0deg);\r\n            }\r\n\r\n            50% {\r\n                transform: rotate(15deg);\r\n            }\r\n\r\n            100% {\r\n                transform: rotate(0deg);\r\n            }\r\n        }\r\n\r\n        ul {\r\n            list-style-type: none;\r\n            padding-left: 0;\r\n            color: #333;\r\n            font-size: 1.1rem;\r\n        }\r\n\r\n        li {\r\n            margin-bottom: 1.5rem;\r\n            padding: 10px 10px 10px 10px;\r\n            border: 1px dashed #333;\r\n            border-radius: 6px;\r\n            background-color: #f7f7f7;\r\n            position: relative;\r\n            z-index: 2;\r\n            min-height: 80px;\r\n            /* Đủ không gian cho nút ở dưới */\r\n        }\r\n\r\n        li h2 {\r\n            font-size: 1.5rem;\r\n            font-weight: bold;\r\n            color: #333;\r\n            margin-right: 100px;\r\n        }\r\n\r\n        li p {\r\n            font-size: 1.1rem;\r\n            margin-bottom: 0.5rem;\r\n            color: #555;\r\n            margin-right: 100px;\r\n        }\r\n\r\n        a {\r\n            color: #333;\r\n            text-decoration: none;\r\n            font-size: 1rem;\r\n            margin-right: 10px;\r\n            border: 2px solid #333;\r\n            border-radius: 4px;\r\n            padding: 5px 10px;\r\n            transition: all 0.3s ease;\r\n            position: relative;\r\n            z-index: 2;\r\n        }\r\n\r\n        a:hover {\r\n            background-color: #333;\r\n            color: white;\r\n            border-color: #333;\r\n        }\r\n\r\n        .doodle-img {\r\n            position: absolute;\r\n            top: 20%;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            max-width: 100px;\r\n            z-index: -1;\r\n        }\r\n\r\n        .doodle-img-2 {\r\n            position: absolute;\r\n            top: 60%;\r\n            right: 10%;\r\n            transform: rotate(180deg);\r\n            max-width: 80px;\r\n            z-index: -1;\r\n        }\r\n\r\n        .add-product-button {\r\n            display: block;\r\n            text-align: center;\r\n            margin-top: 2rem;\r\n            font-size: 1.2rem;\r\n            color: #fff;\r\n            text-decoration: none;\r\n            background-color: #333;\r\n            padding: 10px 15px;\r\n            border: 2px solid #333;\r\n            border-radius: 6px;\r\n            font-weight: bold;\r\n            transition: all 0.3s ease;\r\n            position: relative;\r\n            z-index: 3;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .add-product-button:hover {\r\n            background-color: #555;\r\n            color: white;\r\n        }\r\n\r\n        /* Phong cách nút \"Thêm vào giỏ hàng\" */\r\n        .cart-button {\r\n            --width: 90px;\r\n            --height: 32px;\r\n            --tooltip-height: 32px;\r\n            --gap-between-tooltip-to-button: 18px;\r\n            --button-color: #333;\r\n            --tooltip-color: #fff;\r\n            min-width: var(--width);\r\n            height: var(--height);\r\n            background: var(--button-color);\r\n            position: absolute;\r\n            bottom: 10px;\r\n            /* Đặt ở góc dưới */\r\n            right: 10px;\r\n            text-align: center;\r\n            border-radius: 4px;\r\n            border: 2px solid #333;\r\n            font-family: 'Comic Sans MS', sans-serif;\r\n            transition: background 0.3s, transform 0.3s;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            z-index: 3;\r\n            padding: 5px 10px;\r\n        }\r\n\r\n        .cart-button::before {\r\n            position: absolute;\r\n            content: attr(data-tooltip);\r\n            width: auto;\r\n            /* Tự động theo nội dung */\r\n            min-width: 80px;\r\n            /* Đảm bảo đủ rộng */\r\n            height: var(--tooltip-height);\r\n            background-color: #333;\r\n            font-size: 0.8rem;\r\n            color: #fff;\r\n            border-radius: 4px;\r\n            line-height: var(--tooltip-height);\r\n            bottom: calc(var(--height) + var(--gap-between-tooltip-to-button) + 10px);\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            /* Căn giữa */\r\n            padding: 0 8px;\r\n            /* Khoảng cách văn bản */\r\n        }\r\n\r\n        .cart-button::after {\r\n            position: absolute;\r\n            content: \"\";\r\n            width: 0;\r\n            height: 0;\r\n            border: 6px solid transparent;\r\n            border-top-color: #333;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            /* Căn giữa */\r\n            bottom: calc(100% + var(--gap-between-tooltip-to-button) - 10px);\r\n        }\r\n\r\n        .cart-button::after,\r\n        .cart-button::before {\r\n            opacity: 0;\r\n            visibility: hidden;\r\n            transition: all 0.5s;\r\n        }\r\n\r\n        .button-wrapper,\r\n        .text,\r\n        .icon {\r\n            overflow: hidden;\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            left: 0;\r\n            color: #fff;\r\n        }\r\n\r\n        .text {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            top: 0;\r\n            font-size: 1rem;\r\n        }\r\n\r\n        .text,\r\n        .icon {\r\n            transition: top 0.5s;\r\n        }\r\n\r\n        .icon {\r\n            color: #fff;\r\n            top: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n        }\r\n\r\n        .icon svg {\r\n            width: 16px;\r\n            height: 16px;\r\n        }\r\n\r\n        .cart-button:hover {\r\n            background: #555;\r\n            transform: scale(1.05);\r\n        }\r\n\r\n        .cart-button:hover .text {\r\n            top: -100%;\r\n        }\r\n\r\n        .cart-button:hover .icon {\r\n            top: 0;\r\n        }\r\n\r\n        .cart-button:hover::before,\r\n        .cart-button:hover::after {\r\n            opacity: 1;\r\n            visibility: visible;\r\n        }\r\n\r\n        .cart-button:hover::after {\r\n            bottom: calc(var(--height) + var(--gap-between-tooltip-to-button) - 20px);\r\n        }\r\n\r\n        .cart-button:hover::before {\r\n            bottom: calc(var(--height) + var(--gap-between-tooltip-to-button));\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>\r\n    <div class=\"container\">\r\n        <div class=\"list-container\">\r\n            <h1>Danh sách sản phẩm</h1>\r\n\r\n            <!-- Nút \"Thêm sản phẩm mới\" -->\r\n            <a href=\"/Bai1/Product/add\" class=\"add-product-button\">Thêm sản phẩm mới</a>\r\n\r\n            <ul>\r\n                <?php foreach ($products as $product): ?>\r\n                    <li>\r\n                        <h2><?php echo htmlspecialchars($product->getName(), ENT_QUOTES, 'UTF-8'); ?></h2>\r\n                        <p>Mô tả: <?php echo htmlspecialchars($product->getDescription(), ENT_QUOTES, 'UTF-8'); ?></p>\r\n                        <p>Giá: <?php echo htmlspecialchars($product->getPrice(), ENT_QUOTES, 'UTF-8'); ?></p>\r\n                        <a href=\"/Bai1/Product/edit/<?php echo $product->getId(); ?>\">Sửa</a>\r\n                        <a href=\"/Bai1/Product/delete/<?php echo $product->getId(); ?>\" onclick=\"return confirm('Bạn có chắc chắn muốn xóa sản phẩm này không?');\">Xóa</a>\r\n                        <div class=\"cart-button\" data-tooltip=\"Giá: <?php echo htmlspecialchars($product->getPrice(), ENT_QUOTES, 'UTF-8'); ?> VNĐ\" onclick=\"addToCart(<?php echo $product->getId(); ?>)\">\r\n                            <div class=\"button-wrapper\">\r\n                                <div class=\"text\">Thêm vào giỏ</div>\r\n                                <span class=\"icon\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cart2\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z\"></path>\r\n                                    </svg>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                <?php endforeach; ?>\r\n            </ul>\r\n        </div>\r\n\r\n        <!-- Hình ảnh doodle minh họa (để nguyên comment) -->\r\n        <!-- <img src=\"https://via.placeholder.com/100x100.png?text=Doodle\" alt=\"Doodle\" class=\"doodle-img\"> -->\r\n        <!-- <img src=\"https://via.placeholder.com/100x100.png?text=Doodle\" alt=\"Doodle\" class=\"doodle-img-2\"> -->\r\n    </div>\r\n\r\n    <!-- Thêm Bootstrap và jQuery -->\r\n    <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js\" integrity=\"sha384-oBqDVmMz4fnFO9gyb6d5U07P7JvScc7v4hkw3H7O9nUksdX5txd6lghY9f8P64xX5\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js\" integrity=\"sha384-pzjw8f+ua7Kw1TIq0bQWvByWB6rfp9zLxS+JtrfCJJlvH9zxusXTEmtWyY8VV1QU\" crossorigin=\"anonymous\"></script>\r\n\r\n    <script>\r\n        function addToCart(productId) {\r\n            // Hàm mẫu để mô phỏng thêm sản phẩm vào giỏ hàng\r\n            alert('Đã thêm sản phẩm có ID ' + productId + ' vào giỏ hàng!');\r\n            // TODO: Thêm logic thực tế để gửi yêu cầu tới server hoặc cập nhật giỏ hàng\r\n        }\r\n    </script>\r\n</body>\r\n\r\n</html>"
        }
    ]
}